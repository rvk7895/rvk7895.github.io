<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Effective Java Notes | Ritvik Aryan Kalra</title> <meta name="author" content="Ritvik Aryan Kalra"> <meta name="description" content="Notes of the book that I was suggested while interning in Sprinklr"> <meta name="keywords" content="Fairness in Recommendation Algorithms, Large Language Models"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?19f3075a2d19613090fe9e16b564e1fe" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://rvk7895.github.io/blog/2023/effective-java-notes/"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?e74e74bf055e5729d44a7d031a5ca6a5" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?96d6b3e1c3604aca8b6134c7afdd5db6"></script> <script src="/assets/js/dark_mode.js?9b17307bb950ffa2e34be0227f53558f"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/">Ritvik Aryan Kalra</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about</a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">blog<span class="sr-only">(current)</span></a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications</a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects</a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories</a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fa-solid fa-moon"></i> <i class="fa-solid fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">Effective Java Notes</h1> <p class="post-meta">June 27, 2023</p> <p class="post-tags"> <a href="/blog/2023"> <i class="fa-solid fa-calendar fa-sm"></i> 2023 </a>   ·   <a href="/blog/tag/coding"> <i class="fa-solid fa-hashtag fa-sm"></i> coding,</a>   <a href="/blog/tag/java"> <i class="fa-solid fa-hashtag fa-sm"></i> java</a>     ·   <a href="/blog/category/coding"> <i class="fa-solid fa-tag fa-sm"></i> coding,</a>   <a href="/blog/category/java"> <i class="fa-solid fa-tag fa-sm"></i> java</a>   </p> </header> <article class="post-content"> <div id="markdown-content"> <p>I recently started to read the book Effective Java, to improve my coding habits and to learn in-depth about the functionalities provided by Java. Here I would be adding notes of the items that I think are relevant could be helpful to me in future and might to others also.</p> <h2 id="builders">Builders</h2> <p>When the class has a lot of optional parameters, one should consider using Builder. Builders allow you the flexibility which Static Factories and Constructors don’t for optional parameters.</p> <p>Traditionally the design pattern of <strong><a href="https://www.captaindebug.com/2011/05/telescoping-constructor-antipattern#:~:text=The%20Telescoping%20Constructor%20is%20an,there%20are%20better%20alternatives%20availble." rel="external nofollow noopener" target="_blank">telescoping constructor</a></strong> was used in case of optional parameters. But that makes you write a lot of redundant code, which later can become unreadable with many methods of the same name.</p> <p>Another method which can be used to tackle the problem of optional parameters is that of using <code class="language-plaintext highlighter-rouge">setter</code> methods. Here we can use a constructor to just create an object and then use the setter methods to assign attributes to that object. Something like</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Test</span> <span class="o">{</span>
	<span class="kd">private</span> <span class="kt">int</span> <span class="n">a1</span><span class="o">;</span>
	<span class="kd">private</span> <span class="kt">int</span> <span class="n">a2</span><span class="o">;</span>
	<span class="c1">//setters</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">seta1</span><span class="o">(</span><span class="kt">int</span> <span class="n">val</span><span class="o">)</span> <span class="o">{</span><span class="n">a1</span> <span class="o">=</span> <span class="n">val</span><span class="o">;}</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">seta2</span><span class="o">(</span><span class="kt">int</span> <span class="n">val</span><span class="o">)</span> <span class="o">{</span><span class="n">a2</span> <span class="o">=</span> <span class="n">val</span><span class="o">;}</span>
<span class="o">}</span>

<span class="c1">//inside main</span>
<span class="nc">Test</span> <span class="n">test</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Test</span><span class="o">();</span>
<span class="n">test</span><span class="o">.</span><span class="na">seta1</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
</code></pre></div></div> <p>This is the <strong>**</strong><strong>JavaBean</strong><strong>**</strong> pattern. But this strategy has its own disadvantages, first being that the object would be in an inconsistent state for sometime, and second being that it automatically precludes the possibility of the class being immutable.</p> <p>Hence to cover for the advantages come builder classes. There syntax is as follows:</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Test</span> <span class="o">{</span>
	<span class="kd">private</span> <span class="kt">int</span> <span class="n">a1</span><span class="o">;</span>
	<span class="kd">private</span> <span class="kt">int</span> <span class="n">a2</span><span class="o">;</span>
	<span class="kd">private</span> <span class="kt">int</span> <span class="n">a3</span><span class="o">;</span>

	<span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">Builder</span> <span class="o">{</span>
		<span class="c1">//required</span>
		<span class="kd">private</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">a1</span><span class="o">;</span>

		<span class="c1">//optional</span>
		<span class="kd">private</span> <span class="kt">int</span> <span class="n">a2</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
		<span class="kd">private</span> <span class="kt">int</span> <span class="n">a3</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

		<span class="kd">public</span> <span class="nf">Builder</span><span class="o">(</span><span class="kt">int</span> <span class="n">a1</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">this</span><span class="o">.</span><span class="na">a1</span> <span class="o">=</span> <span class="n">a1</span>
		<span class="o">}</span>

		<span class="kd">public</span> <span class="nc">Builder</span> <span class="nf">a2</span><span class="o">(</span><span class="kt">int</span> <span class="n">val</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">a2</span> <span class="o">=</span> <span class="n">val</span><span class="o">;</span> <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
		<span class="o">}</span>
		
		<span class="kd">public</span> <span class="nc">Builder</span> <span class="nf">a3</span><span class="o">(</span><span class="kt">int</span> <span class="n">val</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">a3</span> <span class="o">=</span> <span class="n">val</span><span class="o">;</span> <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
		<span class="o">}</span>
		
		<span class="kd">public</span> <span class="nc">Test</span> <span class="nf">build</span><span class="o">()</span> <span class="o">{</span>
			<span class="k">return</span> <span class="k">new</span> <span class="nf">Builder</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
		<span class="o">}</span>
	<span class="o">}</span>

	<span class="kd">private</span> <span class="nf">Test</span><span class="o">(</span><span class="nc">Builder</span> <span class="n">builder</span><span class="o">)</span> <span class="o">{</span>
		<span class="n">a1</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">a1</span><span class="o">;</span>
		<span class="n">a2</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">a2</span><span class="o">;</span>
		<span class="n">a3</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">a3</span><span class="o">;</span>
	<span class="o">}</span>
<span class="o">}</span>

<span class="c1">//inside main</span>
<span class="nc">Test</span> <span class="n">test</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Test</span><span class="o">.</span><span class="na">Builder</span><span class="o">(</span><span class="n">a1</span><span class="o">).</span><span class="na">a2</span><span class="o">(</span><span class="n">a2</span><span class="o">).</span><span class="na">build</span><span class="o">()</span>
</code></pre></div></div> <p>Using this pattern, instead of making the object directly, the client calls a constructor with all of the required parameters and gets a builder object. Using this builder object, we get access to setter methods which returns the same builder object but after setting some parameters of the object for which the setter method was invoked. Then finally the <code class="language-plaintext highlighter-rouge">build</code> methods is called which returns the desired class’s object.</p> <p>This is a substitute for the named optional parameters in Python and Scala.</p> <p><code class="language-plaintext highlighter-rouge">Builder</code> functionality is also well suite to class hierarchies. I’ll come back to this when I have covered <em>recursive type parameter</em> and <code class="language-plaintext highlighter-rouge">clone()</code></p> <p>References:</p> <ul> <li><a href="https://www.captaindebug.com/2011/05/telescoping-constructor-antipattern#:~:text=The%20Telescoping%20Constructor%20is%20an,there%20are%20better%20alternatives%20availble." rel="external nofollow noopener" target="_blank">Captain Debug’s Blog: The Telescoping Constructor (Anti)Pattern</a></li> </ul> <h2 id="static-factory-methods">Static Factory Methods</h2> <p>Static factory methods in Java are basically like constructors but carry a meaningful name to them. They are static methods that return an instance of the native class. These methods can come in handy when you need to have multiple constructors that return the object but with some form of different configuration.</p> <aside> 💡 In case you forgot, `static` methods don’t need an object of a class to be called. Thus these static factory methods come in handy. </aside> <p>These methods have the following advantages over constructors -</p> <ol> <li>Static Factory methods allow reuse of already created instances or use cached instances of a class, instead of creating new ones. This can lead to improve in performances. An example of this is is <code class="language-plaintext highlighter-rouge">Boolean.valueOf(boolean var)</code> </li> <li>It can also return an object of the subtype thus giving you more flexibility over choice of the class of the object returned. This also allows to return object of classes without making those classes public.</li> <li>As I had mentioned earlier, another advantage is that object can vary from call to call as function of the input parameters. <code class="language-plaintext highlighter-rouge">Enum</code> class makes use of this advantage and thus does not have any public constructors.</li> </ol> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/good-coding-practices/">Good Coding Practices</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2022/displaying-external-posts-on-your-al-folio-blog/">Displaying External Posts on Your al-folio Blog</a> </li> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2023 Ritvik Aryan Kalra. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?7b30caa5023af4af8408a472dc4e1ebb"></script> <script defer src="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?d633890033921b33e0ceb13d22340a9c"></script> <script defer src="/assets/js/common.js?acdb9690d7641b2f8d40529018c71a01"></script> <script defer src="/assets/js/copy_code.js?07b8786bab9b4abe90d10e61f7d12ff7" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>